<!DOCTYPE html>
<html>
<head>
    <title>Test Stripe Integration</title>
</head>
<body>
    <h1>Test Stripe Integration</h1>
    <p>This is a simple test page to verify the Stripe integration is working.</p>

    <h2>Setup Instructions:</h2>
    <ol>
        <li>Create a .env file in the project root</li>
        <li>Add your Stripe test keys:
            <pre>
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRO_PRICE_ID=price_...
            </pre>
        </li>
        <li>Get test keys from: <a href="https://dashboard.stripe.com/test/apikeys" target="_blank">Stripe Dashboard</a></li>
        <li>Create a product and price in Stripe Dashboard</li>
        <li>Set up webhook endpoint at: /api/stripe/webhook</li>
    </ol>

    <h2>Test Checklist:</h2>
    <ul>
        <li>✅ Stripe Python SDK installed</li>
        <li>✅ Database models updated with Stripe fields</li>
        <li>✅ Stripe blueprint registered</li>
        <li>✅ Checkout session endpoint created</li>
        <li>✅ Webhook handler implemented</li>
        <li>✅ Settings page updated with Stripe checkout button</li>
        <li>✅ Flash messages added for payment feedback</li>
        <li>✅ Customer portal integration for Pro users</li>
    </ul>

    <h2>Endpoints:</h2>
    <ul>
        <li>POST /api/stripe/create-checkout-session - Creates checkout session</li>
        <li>POST /api/stripe/webhook - Handles Stripe webhooks</li>
        <li>GET /stripe/success - Success redirect</li>
        <li>GET /stripe/cancel - Cancel redirect</li>
        <li>POST /api/stripe/customer-portal - Opens customer portal</li>
    </ul>
</body>
</html>